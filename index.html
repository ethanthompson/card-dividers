<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <meta name="description" content="Create custom card dividers for TCG storage boxes. Generate printable PDFs with set icons, custom labels, and perfect dimensions for BCW boxes. Free online MTG divider maker.">
    <title>Trading Card Divider Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <script src="script.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <!-- Add theme switcher -->
                <div class="d-flex justify-content-end mb-3">
                    <div class="btn-group" role="group" aria-label="Theme switcher">
                        <input type="radio" class="btn-check" name="theme" id="theme-system" value="system" checked>
                        <label class="btn btn-outline-secondary btn-sm" for="theme-system">
                            <i class="bi bi-circle-half"></i> System
                        </label>
                        
                        <input type="radio" class="btn-check" name="theme" id="theme-light" value="light">
                        <label class="btn btn-outline-secondary btn-sm" for="theme-light">
                            <i class="bi bi-sun-fill"></i> Light
                        </label>
                        
                        <input type="radio" class="btn-check" name="theme" id="theme-dark" value="dark">
                        <label class="btn btn-outline-secondary btn-sm" for="theme-dark">
                            <i class="bi bi-moon-stars-fill"></i> Dark
                        </label>
                    </div>
                </div>

                <div class="card shadow-sm">
                    <div class="card-body">
                        <h2 class="card-title mb-3">Trading Card Divider Generator</h2>
                        <p class="mb-3">Create custom dividers to organize your card collection. Simply enter your labels or import from a CSV file, then print and cut out the dividers to help sort and categorize your cards.</p>
                        
                        <div class="alert alert-info mb-4" role="alert">
                            <i class="bi bi-info-circle me-2"></i>
                            <strong>Printing Recommendation:</strong> For best results, use heavy duty card stock to make your dividers. 
                            We recommend using 85 lb white card stock for durability.
                            <a href="https://amzn.to/3FiZqur" class="alert-link ms-2" target="_blank" rel="noopener">
                                <i class="bi bi-box-arrow-up-right"></i> View recommended card stock
                            </a>
                        </div>
                        
                        <!-- Settings section -->
                        <div class="border-bottom pb-3 mb-4">
                            <h3 class="mb-3">Settings</h3>
                            <div class="mb-2">
                                <label for="showSetIcons" class="form-label">
                                    Set Icons
                                    <i class="bi bi-question-circle ms-1" 
                                       data-bs-toggle="modal" 
                                       data-bs-target="#setIconsModal" 
                                       style="cursor: pointer;"></i>
                                </label>
                                <select class="form-select" id="showSetIcons">
                                    <option value="true" selected>Show Set Icons</option>
                                    <option value="false">Hide Set Icons</option>
                                </select>
                            </div>
                            <div class="mb-2">
                                <label for="lineStyle" class="form-label">
                                    Line Style
                                    <i class="bi bi-question-circle ms-1" 
                                       data-bs-toggle="modal" 
                                       data-bs-target="#lineStyleModal" 
                                       style="cursor: pointer;"></i>
                                </label>
                                <select class="form-select" id="lineStyle">
                                    <option value="dashed" selected>Dashed Lines</option>
                                    <option value="solid">Solid Lines</option>
                                    <option value="none">No Lines</option>
                                </select>
                            </div>
                            <div class="mb-2">
                                <label for="boxSize" class="form-label">
                                    Divider Size
                                    <i class="bi bi-question-circle ms-1" 
                                       data-bs-toggle="modal" 
                                       data-bs-target="#boxSizeModal" 
                                       style="cursor: pointer;"></i>
                                </label>
                                <select class="form-select" id="boxSize">
                                    <option value="bcw-storage" selected>BCW Storage Box</option>
                                    <option value="bcw-quickfold">BCW Quickfold Box</option>
                                    <option value="custom">Custom Size</option>
                                </select>
                            </div>
                            <div id="customSizeFields" class="border-start ps-3 mb-2" style="display: none;">
                                <div id="widthWarning" class="alert alert-info py-2 mb-2" style="display: none;">
                                    <small>
                                        <i class="bi bi-info-circle me-1"></i>
                                        This width will result in one divider per row. Reduce to 100mm or less for two per row.
                                    </small>
                                </div>
                                <div class="row g-2">
                                    <div class="col-md-4">
                                        <label for="customBaseWidth" class="form-label">Base Width (mm)</label>
                                        <input type="number" class="form-control" id="customBaseWidth" min="1" step="1" value="92">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="customBaseHeight" class="form-label">Base Height (mm)</label>
                                        <input type="number" class="form-control" id="customBaseHeight" min="1" step="1" value="66">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="customTabHeight" class="form-label">Tab Height (mm)</label>
                                        <input type="number" class="form-control" id="customTabHeight" min="1" step="1" value="14">
                                    </div>
                                </div>
                            </div>
                            <div class="mb-2">
                                <label for="paperSize" class="form-label">
                                    Paper Size
                                    <i class="bi bi-question-circle ms-1" 
                                       data-bs-toggle="modal" 
                                       data-bs-target="#paperSizeModal" 
                                       style="cursor: pointer;"></i>
                                </label>
                                <select class="form-select" id="paperSize">
                                    <option value="letter" selected>Letter (8.5 × 11 in)</option>
                                    <option value="legal">Legal (8.5 × 14 in)</option>
                                    <option value="tabloid">Tabloid (11 × 17 in)</option>
                                    <option value="a4">A4 (210 × 297 mm)</option>
                                    <option value="a3">A3 (297 × 420 mm)</option>
                                    <option value="a5">A5 (148 × 210 mm)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <div class="text-muted small mb-3">
                                <i class="bi bi-info-circle me-1"></i>
                                Supports Manabox CSV exports and custom labels
                                <i class="bi bi-question-circle ms-1" 
                                   data-bs-toggle="modal" 
                                   data-bs-target="#csvHelpModal" 
                                   style="cursor: pointer;"></i>
                            </div>
                            <div class="upload-area p-3 rounded">
                                <input type="file" id="csvFile" accept=".csv" onchange="handleCSVUpload(event)" class="form-control">
                            </div>
                        </div>

                        <div class="row g-4">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="left" class="form-label">Left Side Labels</label>
                                    <textarea id="left" class="form-control" rows="8" placeholder="One entry per line" oninput="updateCounters()"></textarea>
                                    <div class="text-muted mt-2" id="leftCount">0 Dividers</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="right" class="form-label">Right Side Labels</label>
                                    <textarea id="right" class="form-control" rows="8" placeholder="One entry per line" oninput="updateCounters()"></textarea>
                                    <div class="text-muted mt-2" id="rightCount">0 Dividers</div>
                                </div>
                            </div>
                        </div>

                        <div class="text-center mt-4">
                            <button onclick="generatePDF()" class="btn btn-primary btn-lg px-4" id="generateButton">
                                Generate PDF
                                <span class="spinner-border spinner-border-sm d-none" id="generateSpinner" role="status" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Footer -->
                <footer class="text-muted mt-4">
                    <div class="mb-3">
                        <p class="small mb-1">
                            Created by <a href="https://ethanthompson.org" target="_blank" rel="noopener" class="text-muted">Ethan Thompson</a>
                            <span class="mx-2">•</span>
                            <a href="https://buymeacoffee.com/ethanthompson" target="_blank" rel="noopener" class="text-muted">
                                <i class="bi bi-cup-hot-fill"></i> Buy me a coffee
                            </a>
                            <span class="mx-2">•</span>
                            <a href="https://github.com/ethanthompson/card-dividers/issues" target="_blank" rel="noopener" class="text-muted">
                                <i class="bi bi-bug"></i> Report an issue
                            </a>
                        </p>
                    </div>
                    <div class="mb-3">
                        <p class="small mb-1">
                            Set icons provided by <a href="https://scryfall.com" target="_blank" rel="noopener" class="text-muted">Scryfall</a>. 
                            Data and images © Scryfall, LLC
                        </p>
                    </div>
                    <div>
                        <p class="small mb-0">
                            <i class="bi bi-info-circle-fill me-1"></i>
                            Some links on this site may be affiliate links. This helps support the site at no additional cost to you.
                        </p>
                    </div>
                </footer>
            </div>
        </div>
    </div>

    <!-- Add Modal -->
    <div class="modal fade" id="csvHelpModal" tabindex="-1" aria-labelledby="csvHelpModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="csvHelpModalLabel">CSV Format Guide</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>You can use this tool in two ways:</p>
                    
                    <h6 class="mt-4 mb-2">1. Set Code Format</h6>
                    <div class="bg-light p-3 rounded mb-2">
                        <code>Set code,Other columns...<br>
                        KLD,... <br>
                        DMR,... <br>
                        MH2,...</code>
                    </div>
                    <ul class="mb-3">
                        <li>Include a "Set code" column</li>
                        <li>Set codes should be 2-4 characters long</li>
                        <li>Use only uppercase letters and numbers</li>
                        <li>Set icons will be automatically included if the "Include Set Icons" option is selected.</li>
                    </ul>

                    <h6 class="mt-4 mb-2">2. Custom Label Format</h6>
                    <div class="bg-light p-3 rounded mb-2">
                        <code>Label,Other columns...<br>
                        Modern,... <br>
                        Legacy,... <br>
                        Commander,...</code>
                    </div>
                    <ul class="mb-3">
                        <li>Include a "Label" column</li>
                        <li>Any text is accepted, but limited to 60 characters</li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Box Size Help Modal -->
    <div class="modal fade" id="boxSizeModal" tabindex="-1" aria-labelledby="boxSizeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="boxSizeModalLabel">Box Dimensions Guide</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6 class="mb-3">Predefined Box Sizes</h6>
                    
                    <div class="mb-4">
                        <h6 class="mb-2">BCW Storage Box</h6>
                        <ul class="list-unstyled ps-3 mb-2">
                            <li>• Base Width: 94mm</li>
                            <li>• Base Height: 66mm</li>
                            <li>• Tab Height: 14mm</li>
                        </ul>
                        <p class="small">
                            Optimized for the standard BCW cardboard storage boxes.
                            <a href="https://amzn.to/4bztApp" target="_blank" rel="noopener" class="ms-1">
                                View box on Amazon <i class="bi bi-box-arrow-up-right"></i>
                            </a>
                        </p>
                    </div>

                    <div class="mb-4">
                        <h6 class="mb-2">BCW Quickfold Box</h6>
                        <ul class="list-unstyled ps-3 mb-2">
                            <li>• Base Width: 77mm</li>
                            <li>• Base Height: 94mm</li>
                            <li>• Tab Height: 9mm</li>
                        </ul>
                        <p class="small">
                            Optimized for the BCW Quickfold boxes.
                            <a href="https://amzn.to/3DlzM7O" target="_blank" rel="noopener" class="ms-1">
                                View box on Amazon <i class="bi bi-box-arrow-up-right"></i>
                            </a>
                        </p>
                    </div>

                    <div class="alert alert-info py-2">
                        <small>
                            <i class="bi bi-info-circle me-1"></i>
                            Custom sizes allow you to create dividers for any box. Measurements are in millimeters (mm).
                            For best results when printing, keep the width under 100mm to fit two dividers per row.
                        </small>
                    </div>

                    <div class="mt-4">
                        <h6 class="mb-2">Understanding Dimensions</h6>
                        <ul class="small mb-0">
                            <li><strong>Base Width:</strong> The width of the main divider body</li>
                            <li><strong>Base Height:</strong> The height of the main divider body (excluding tab)</li>
                            <li><strong>Tab Height:</strong> The height of the label tab at the top</li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Line Style Help Modal -->
    <div class="modal fade" id="lineStyleModal" tabindex="-1" aria-labelledby="lineStyleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="lineStyleModalLabel">Line Style Guide</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6 class="mb-3">Available Styles</h6>
                    
                    <div class="mb-4">
                        <h6 class="mb-2">Dashed Lines</h6>
                        <p class="small mb-2">The default style. Creates dividers with dashed outlines that are easy to see but not too prominent. Perfect for most use cases and provides good visibility for cutting.</p>
                        <img src="assets/examples/dashed-line-example.png" alt="Dashed line divider example" class="img-fluid border rounded mb-3" style="max-width: 300px;">
                    </div>

                    <div class="mb-4">
                        <h6 class="mb-2">Solid Lines</h6>
                        <p class="small mb-2">Creates dividers with solid outlines. Useful when you want more defined cutting lines or prefer a cleaner look.</p>
                        <img src="assets/examples/solid-line-example.png" alt="Solid line divider example" class="img-fluid border rounded mb-3" style="max-width: 300px;">
                    </div>

                    <div class="mb-4">
                        <h6 class="mb-2">No Lines</h6>
                        <p class="small mb-2">Removes all outline lines from the dividers. Useful when you want to:
                            <ul class="small mb-0">
                                <li>Use a cutting machine that doesn't need visible lines</li>
                                <li>Create a minimal look focusing only on the labels</li>
                                <li>Add your own cutting guides</li>
                            </ul>
                        </p>
                        <img src="assets/examples/no-line-example.png" alt="No line divider example" class="img-fluid border rounded mb-3" style="max-width: 300px;">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Set Icons Help Modal -->
    <div class="modal fade" id="setIconsModal" tabindex="-1" aria-labelledby="setIconsModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="setIconsModalLabel">Set Icons Guide</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-4">
                        <h6 class="mb-2">About Set Icons</h6>
                        <p class="small mb-2">Set icons are the official symbols that represent Magic: The Gathering sets. When enabled, the generator will automatically add the appropriate set icon next to any valid set code.</p>
                    </div>

                    <div class="mb-4">
                        <h6 class="mb-2">How It Works</h6>
                        <ul class="small mb-2">
                            <li>Icons appear automatically for valid set codes (2-4 characters)</li>
                            <li>Icons are provided by Scryfall and are official MTG set symbols</li>
                            <li>Icons scale automatically based on the tab height</li>
                            <li>Custom labels and invalid set codes will not show icons</li>
                        </ul>
                    </div>

                    <div class="alert alert-info py-2">
                        <small>
                            <i class="bi bi-info-circle me-1"></i>
                            Set icons are most useful when organizing by set, but can be hidden when using custom labels or if you prefer a cleaner look.
                        </small>
                    </div>

                    <div class="mt-4">
                        <h6 class="mb-2">Valid Set Code Examples</h6>
                        <ul class="small mb-0">
                            <li><code>DMR</code> - Dominaria Remastered</li>
                            <li><code>MH2</code> - Modern Horizons 2</li>
                            <li><code>LEA</code> - Limited Edition Alpha</li>
                            <li><code>2X2</code> - Double Masters 2022</li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Paper Size Help Modal -->
    <div class="modal fade" id="paperSizeModal" tabindex="-1" aria-labelledby="paperSizeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="paperSizeModalLabel">Paper Size Guide</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-4">
                        <h6 class="mb-2">Common Paper Sizes</h6>
                        <p class="small mb-2">Choose the paper size that matches what you'll be printing on:</p>
                        
                        <div class="table-responsive">
                            <table class="table table-sm">
                                <thead>
                                    <tr>
                                        <th>Size</th>
                                        <th>Inches</th>
                                        <th>Millimeters</th>
                                        <th>Notes</th>
                                    </tr>
                                </thead>
                                <tbody class="small">
                                    <tr>
                                        <td>Letter</td>
                                        <td>8.5 × 11</td>
                                        <td>216 × 279</td>
                                        <td>Most common in US/Canada</td>
                                    </tr>
                                    <tr>
                                        <td>A4</td>
                                        <td>8.27 × 11.69</td>
                                        <td>210 × 297</td>
                                        <td>Most common worldwide</td>
                                    </tr>
                                    <tr>
                                        <td>Legal</td>
                                        <td>8.5 × 14</td>
                                        <td>216 × 356</td>
                                        <td>Longer version of Letter</td>
                                    </tr>
                                    <tr>
                                        <td>Tabloid</td>
                                        <td>11 × 17</td>
                                        <td>279 × 432</td>
                                        <td>Double Letter size</td>
                                    </tr>
                                    <tr>
                                        <td>A3</td>
                                        <td>11.69 × 16.54</td>
                                        <td>297 × 420</td>
                                        <td>Double A4 size</td>
                                    </tr>
                                    <tr>
                                        <td>A5</td>
                                        <td>5.83 × 8.27</td>
                                        <td>148 × 210</td>
                                        <td>Half A4 size</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="alert alert-info py-2">
                        <small>
                            <i class="bi bi-info-circle me-1"></i>
                            Make sure your printer supports your chosen paper size. Letter and A4 are the most widely supported sizes.
                        </small>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>
